<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>打磚塊 Plus</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="app">
    <header id="topbar">
      <div class="brand">
        <div class="title">打磚塊 Plus</div>
        <div class="subtitle">雷射 / 道具 / 爆炸特效 / 音效 / 快樂關卡</div>
      </div>
      <div class="stats">
        <div class="pill">分數 <span id="score">0</span></div>
        <div class="pill">生命 <span id="lives">3</span></div>
        <div class="pill">關卡 <span id="level">1</span></div>
        <button class="pill btn" id="btnSound" aria-label="toggle sound">音效：<span id="soundState">開</span></button>

        <button class="pill btn" id="btnBgm" aria-label="toggle bgm">BGM：<span id="bgmState">開</span></button>
        <div class="pill">道具% <input id="powerupRate" type="number" inputmode="numeric" min="0" max="100" step="1" value="40" aria-label="powerup rate percent"/></div>
        <button class="pill btn" id="btnPause" aria-label="pause">暫停 <span class="kbd">P</span></button>
        <button class="pill btn danger" id="btnRestart" aria-label="restart">重來</button>
      </div>
    </header>

    <main id="stageWrap">
      <canvas id="game" width="1280" height="720" aria-label="breakout game canvas"></canvas>

      <div id="overlayClear" class="overlay" aria-hidden="true">
        <div class="big rainbow shake flicker">通關!</div>
        <div class="hint">按任意鍵 / 點一下進入下一關</div>
      </div>

      <div id="overlayGameOver" class="overlay" aria-hidden="true">
        <div class="big gameover shake flicker">GAME OVER</div>
        <div class="hint">按任意鍵 / 點一下重新開始</div>
      </div>
    </main>

    <section id="mobileHUD" aria-label="mobile controls">
      <button class="mBtn" id="mLeft">← 左</button>
      <button class="mBtn" id="mLaunch">發射 / 開始</button>
      <button class="mBtn" id="mRight">右 →</button>
      <button class="mBtn" id="mLaser">射擊</button>
      <button class="mBtn" id="mFaster">加速</button>
      <button class="mBtn" id="mSlower">減速</button>
    </section>

    <footer id="help">
      <div class="helpLine">
        電腦：← → 或 A/D 移動，空白 發射，S 射擊，P 暫停。
      </div>
      <div class="helpLine">
        手機/平板：拖曳移動板子；或用下方按鍵；點「發射/開始」開球；點「射擊」發雷射。
      </div>
    </footer>
  </div>

  <script src="./game.js" defer></script>
</body>
</html>
